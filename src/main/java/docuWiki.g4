grammar docuWiki;@parser::members {  protected StringBuilder htmlBuilder = new StringBuilder();}SPACE: ' ' | '\t' ;CHAR    :         '!' | '"' | '#' | '$' | '%' | '&'    |         '*' | '+' | ',' | '-' | '.' | '/'    |         ':' | ';' | '?' | '@' | '^' | '_' | '`'    |    '0'..'9' | 'A'..'Z'  | 'a'..'z'    |         '(' | ')' | '~'    |        '\'' | '<' | '[' | ']' | '|'    ;HEADLINE_1: '=';HEADLINE_2: '==';HEADLINE_3: '===';HEADLINE_4: '====';BOLD_MARK: '**';ITALIC_MARK : '//';UNDERLINE_MARK: '__';NEWLINE_MARK:  '\\';LINK_OPEN: '[[';LINK_END: ']]';LIST_MARK: '* ';NUMBERED_LIST_MARK: '- ';QUOTE: '>';PIPE: ' | ';CODE_START: '<code>';CODE_END: '</code>';SUBSCRIPT_START: '<sub>';SUBSCRIPT_END: '</sub>';SUPERSCRIPT_START: '<sup>';SUPERSCRIPT_END: '</sup>';DELETED_START: '<del>';DELETED_END: '</del>';MEDIA_START: '{{';MEDIA_END: '}}';URL_START: 'http://';//ANY: .?;NL: '\r'?'\n';WS  : [ \t\r\n]+ -> skip ;paragraph: (CHAR | SPACE)+ ;url: URL_START paragraph;headline    : HEADLINE_1 paragraph HEADLINE_1 {htmlBuilder.append("<h1>" + $paragraph.text + "</h1>");}    | HEADLINE_2 paragraph HEADLINE_2 {htmlBuilder.append("<h2>" + $paragraph.text + "</h2>");}    | HEADLINE_3 paragraph HEADLINE_3 {htmlBuilder.append("<h3>" + $paragraph.text + "</h3>");}    | HEADLINE_4 paragraph HEADLINE_4 {htmlBuilder.append("<h4>" + $paragraph.text + "</h4>");}    ;bold : BOLD_MARK paragraph BOLD_MARK {htmlBuilder.append("<b>" + $paragraph.text + "</b>");} ;italic : ITALIC_MARK paragraph ITALIC_MARK {htmlBuilder.append("<i>" + $paragraph.text + "</i>");} ;underline : UNDERLINE_MARK paragraph UNDERLINE_MARK {htmlBuilder.append("<u>" + $paragraph.text + "</u>");} ;subscript : SUBSCRIPT_START paragraph SUBSCRIPT_END {htmlBuilder.append("<sub>" + $paragraph.text + "</sub>");} ;superscript : SUPERSCRIPT_START paragraph SUPERSCRIPT_END {htmlBuilder.append("<sup>" + $paragraph.text + "</sup>");} ;deleted : DELETED_START paragraph DELETED_END {htmlBuilder.append("<s>" + $paragraph.text + "</s>");} ;externalLink: LINK_OPEN url PIPE paragraph LINK_END {htmlBuilder.append("<a href='" + $url.text + "'>" + $paragraph.text + "</a>");} ;media: MEDIA_START url MEDIA_END {htmlBuilder.append("<img src='" + $url.text + "'>");} ;quote: QUOTE paragraph {htmlBuilder.append("<blockquote>" + $paragraph.text + "</blockquote>");};code: CODE_START paragraph CODE_END {htmlBuilder.append("<code>" + $paragraph.text + "</code>");};newline: NEWLINE_MARK {htmlBuilder.append("</br>");} ;elements    : bold elements    | italic elements    | newline elements    | paragraph elements    | underline elements    | subscript elements    | superscript elements    | deleted elements    | externalLink elements    | media elements    | quote elements    | code elements    | headline elements    | newline elements//    | .+    ;body: elements+? ;